[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "nypd-arrest-visualization",
    "section": "",
    "text": "1 Introduction\nAs new students in NYC, we are constantly exposed to crime-related updates through Clery Crime Alerts from Columbia University, which emphasize the importance of staying informed about local safety concerns. Additionally, Columbia’s initiatives, such as self-defense classes and situational awareness events, highlight the need to understand crime dynamics in our community. Beyond personal safety, this topic provides us an opportunity to examine broader societal concerns, including the effectiveness of public safety policies and the equity of law enforcement. This motivated us to explore NYC’s arrest data to gain deeper insights about the trend and distributions across the city.\nOur primary focus is to analyze and highlight the crime frequency distribution across precincts in NYC from January to September 2024, as understanding these geographical patterns is crucial for identifying areas with higher or lower crime rates. Additionally, we aim to uncover temporal trends in arrests, such as fluctuations by month or time of day, to better understand when crimes are more likely to occur. Furthermore, we seek to identify the most prevalent types of crimes and examine how these vary across demographic groups, including age, sex, and race, to provide a comprehensive view of NYC’s crime dynamics.",
    "crumbs": [
      "<span class='chapter-number'>1</span>  <span class='chapter-title'>Introduction</span>"
    ]
  },
  {
    "objectID": "data.html",
    "href": "data.html",
    "title": "2  Data",
    "section": "",
    "text": "2.1 Description\nThe data source for this project is the “NYPD Arrest Data (Year to Date)” dataset, available through NYC OpenData. This data is collected by the New York Police Department (NYPD) and is reviewed by the Office of Management Analysis and Planning. Each record represents an arrest made in NYC by the NYPD, including details such as the type of crime, location, time of enforcement, and perpetrator’s demographics.\nThe data is in tabular format, consisting of 19 columns and approximately 195,000 rows, and is manually updated every quarter, with the data format including both numerical and text categorical fields. The available attachment, “NYPD_Arrest_YTD_DataDictionary.xlsx,” contains a detailed description of each variable.\nHowever, the dataset has several potential issues, including inconsistencies or delays due to manual updates, and outdated entries because of the quarterly update frequency. Null values are frequently present in certain fields, as some specific data were not collected or were unknown at the time of the report. Additionally, geo-location inaccuracies may affect spatial analysis since some arrests are represented by approximate coordinates.\nThe dataset is available in CSV format on the NYC OpenData portal, which can be directly exported, downloaded locally, and imported into RStudio using the read.csv() function.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "data.html#missing-value-analysis",
    "href": "data.html#missing-value-analysis",
    "title": "2  Data",
    "section": "2.2 Missing value analysis",
    "text": "2.2 Missing value analysis\n\n\nCode\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(tidyr)\nlibrary(naniar)\n\n\n\n\nCode\ndata &lt;- read.csv(\"NYPD_Arrest_Data.csv\", na.strings = c(\"(null)\", \"N/A\"))\nmissing_summary &lt;- data |&gt;\n  summarise(across(everything(), ~ sum(is.na(.)))) |&gt;\n  pivot_longer(cols = everything(), names_to = \"Column\", values_to = \"Missing_Values\") |&gt;\n  arrange(desc(Missing_Values)) |&gt;\n  mutate(Column = factor(Column, levels = Column)) |&gt;\n  mutate(Proportion = Missing_Values / nrow(data)) \n\nggplot(missing_summary, aes(x = Column, y = Missing_Values)) +\n  geom_bar(stat = \"identity\", fill = \"blue\") +\n  labs(title = \"Number and Proportion of Missing Values by Column\", x = \"Columns\", y = \"Number of missing values\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1)) +\n  scale_y_continuous(\n    name = \"Number of missing values\",\n    sec.axis = sec_axis(~ . / nrow(data) * 100, name = \"Proportion of missing values (%)\")\n  )\n\n\n\n\n\n\n\n\n\nThe columns PD_DESC, KY_CD, and OFNS_DESC have the highest number of missing values (26 rows each) and the columns PD_CD, LAW_CODE, and LAW_CAT_CD have fewer missing values (6 rows each). All other columns have no missing values. This discrepancy arises because certain data, like the arrest date, borough of arrest and perpetrator’s demographic information, are straightforward to record during the initial recording process. In contrast, classifying the level of offense and providing the description of internal classification often require more investigation or process.\nThe missing data in the dataset is negligible in the context of the overall dataset size, constituting less than 0.01%, indicating that the impact of missing data on analyses is minimal.\n\n\nCode\ndata_with_na &lt;- data |&gt;\n  filter(if_any(everything(), is.na))\nvis_miss(data_with_na) +\n  labs(title = \"Heatmap of missing values across rows and columns\", x = \"Columns\", y = \"Rows\")\n\n\n\n\n\n\n\n\n\nThe heatmap reveals that missing values are concentrated in a few rows and specific columns, with no widespread gaps. This suggests missing data is likely due to specific incidents or cases rather than systemic issues. In particular, it might be the instances where information was not available or unknown at the time of the report.\n\n\nCode\nboro_na_summary &lt;- data_with_na |&gt;\n  group_by(ARREST_BORO) |&gt;\n  summarise(Missing_Count = n()) |&gt;\n  arrange(desc(Missing_Count)) |&gt;\n  mutate(ARREST_BORO = case_when(\n    ARREST_BORO == \"B\" ~ \"Bronx\",\n    ARREST_BORO == \"S\" ~ \"Staten Island\",\n    ARREST_BORO == \"K\" ~ \"Brooklyn\",\n    ARREST_BORO == \"M\" ~ \"Manhattan\",\n    ARREST_BORO == \"Q\" ~ \"Queens\"\n  )) |&gt;\n  mutate(ARREST_BORO = factor(ARREST_BORO, levels = ARREST_BORO))\n  \nggplot(boro_na_summary, aes(x = ARREST_BORO, y = Missing_Count)) +\n  geom_bar(stat = \"identity\", fill = \"lightblue\") +\n  scale_y_continuous(breaks = seq(0, 10, by = 2)) +\n  labs(title = \"Distribution of missing values by Arrest Borough\", x = \"Arrest Borough\", y = \"Count of Missing Rows\")\n\n\n\n\n\n\n\n\n\nAccording to this bar plot, Queens has the highest number of missing values, followed by Brooklyn and Manhattan, while Bronx has the least. This distribution could reflect operational or reporting differences between boroughs.",
    "crumbs": [
      "<span class='chapter-number'>2</span>  <span class='chapter-title'>Data</span>"
    ]
  },
  {
    "objectID": "results.html",
    "href": "results.html",
    "title": "3  Results",
    "section": "",
    "text": "Code\nlibrary(ggplot2)\nlibrary(dplyr)\n\n\n\nAttaching package: 'dplyr'\n\n\nThe following objects are masked from 'package:stats':\n\n    filter, lag\n\n\nThe following objects are masked from 'package:base':\n\n    intersect, setdiff, setequal, union\n\n\nCode\nlibrary(tidyr)\nlibrary(ggalluvial)\n\n\n\n\nCode\ndata &lt;- read.csv(\"NYPD_Arrest_Data.csv\", na.strings = c(\"(null)\", \"N/A\"))\ndata &lt;- na.omit(data)\n\n\n\n\nCode\ndata &lt;- data |&gt;\n  mutate(ARREST_BORO = case_when(\n    ARREST_BORO == \"B\" ~ \"Bronx\",\n    ARREST_BORO == \"S\" ~ \"Staten Island\",\n    ARREST_BORO == \"K\" ~ \"Brooklyn\",\n    ARREST_BORO == \"M\" ~ \"Manhattan\",\n    ARREST_BORO == \"Q\" ~ \"Queens\"\n  )) |&gt;\n  mutate(LAW_CAT_CD = case_when(\n    LAW_CAT_CD == \"F\" ~ \"Felony\",\n    LAW_CAT_CD == \"M\" ~ \"Misdemeanor\",\n    LAW_CAT_CD == \"V\" ~ \"Violation\",\n    .default = NA\n  )) |&gt;\n  mutate(JURISDICTION_CODE = case_when(\n    JURISDICTION_CODE == 0 ~ \"Patrol\",\n    JURISDICTION_CODE == 1 ~ \"Transit\",\n    JURISDICTION_CODE == 2 ~ \"Housing\",\n    .default = \"Non NYPD\"\n  ))\n\n\n\n\nCode\ntop_15_ofns_desc &lt;- data |&gt;\n  group_by(OFNS_DESC) |&gt;\n  summarise(Count = n()) |&gt;\n  arrange(desc(Count)) |&gt;\n  head(15)\n\n# Plot the top 15 offense descriptions as percentages\nggplot(top_15_ofns_desc, aes(x = reorder(OFNS_DESC, Count), y = Count)) +\n  geom_bar(stat = \"identity\") +\n  coord_flip() +\n  labs(\n    title = \"Top 15 Arrest Categories\",\n    x = \"Offense Description\",\n    y = \"Number of Arrests\"\n  ) + theme_minimal()\n\n\n\n\n\n\n\n\n\n\n\nCode\nlaw_cat_cd_count &lt;- data |&gt;\n  group_by(LAW_CAT_CD) |&gt;\n  summarize(Count = n()) |&gt;\n  arrange(desc(Count)) |&gt;\n  drop_na(LAW_CAT_CD) |&gt; \n  mutate(Percentage = (Count / sum(Count)) * 100)\n\nggplot(law_cat_cd_count, aes(x = reorder(LAW_CAT_CD, -Percentage), y = Percentage)) +\n  geom_bar(stat = \"identity\") +\n  ggtitle(\"Number of Arrests by LAW_CAT_CD\") +\n  xlab(\"LAW_CAT_CD\") +\n  ylab(\"Percentage of Total Arrests (%)\")\n\n\n\n\n\n\n\n\n\n\n\nCode\narrest_boro_count &lt;- data |&gt;\n  group_by(ARREST_BORO) |&gt;\n  summarize(Count = n()) |&gt;\n  arrange(desc(Count))\n\nggplot(arrest_boro_count, aes(x = reorder(ARREST_BORO, -Count), y = Count)) +\n  geom_bar(stat = \"identity\") +\n  ggtitle(\"Number of Arrests by ARREST_BORO\") +\n  xlab(\"ARREST_BORO\") +\n  ylab(\"Number of Arrests\")\n\n\n\n\n\n\n\n\n\n\n\nCode\njcode_count &lt;- data |&gt;\n  group_by(JURISDICTION_CODE) |&gt;\n  summarize(Count = n()) |&gt;\n  arrange(desc(Count))\n\nggplot(jcode_count, aes(x = reorder(JURISDICTION_CODE, -Count), y = Count)) +\n  geom_bar(stat = \"identity\") +\n  ggtitle(\"Number of Arrests by JURISDICTION_CODE\") +\n  xlab(\"JURISDICTION_CODE\") +\n  ylab(\"Number of Arrests\")\n\n\n\n\n\n\n\n\n\n\n\nCode\nage_count &lt;- data |&gt;\n  group_by(AGE_GROUP) |&gt;\n  summarize(Count = n()) |&gt;\n  arrange(desc(Count))\n\nggplot(age_count, aes(x = AGE_GROUP, y = Count)) +\n  geom_bar(stat = \"identity\") +\n  ggtitle(\"Number of Arrests by AGE_GROUP\") +\n  xlab(\"AGE_GROUP\") +\n  ylab(\"Number of Arrests\")\n\n\n\n\n\n\n\n\n\n\n\nCode\nrace_count &lt;- data |&gt;\n  group_by(PERP_RACE) |&gt;\n  summarize(Count = n()) |&gt;\n  arrange(desc(Count))\n\nggplot(race_count, aes(x = reorder(PERP_RACE, -Count), y = Count)) +\n  geom_bar(stat = \"identity\") +\n  ggtitle(\"Number of Arrests by PERP_RACE\") +\n  xlab(\"PERP_RACE\") +\n  ylab(\"Number of Arrests\") +\n  theme(axis.text.x = element_text(angle = 45, hjust = 1))\n\n\n\n\n\n\n\n\n\n\n\nCode\naggregated_data &lt;- na.omit(data) |&gt;\n  mutate(PERP_RACE = case_when(\n    PERP_RACE %in% c(\"UNKNOWN\", \"AMERICAN INDIAN/ALASKAN NATIVE\") ~ \"Others\",\n    TRUE ~ PERP_RACE\n  )) |&gt; \n  group_by(PERP_SEX, PERP_RACE, AGE_GROUP, LAW_CAT_CD) %&gt;%\n  summarise(Count = n(), .groups = \"drop\") %&gt;%\n  rename(\n    Sex = PERP_SEX,\n    Race = PERP_RACE,\n    AgeGroup = AGE_GROUP,\n    CrimeType = LAW_CAT_CD\n  )\naggregated_data\n\n\n# A tibble: 160 × 5\n   Sex   Race                     AgeGroup CrimeType   Count\n   &lt;chr&gt; &lt;chr&gt;                    &lt;chr&gt;    &lt;chr&gt;       &lt;int&gt;\n 1 F     ASIAN / PACIFIC ISLANDER 18-24    Felony         93\n 2 F     ASIAN / PACIFIC ISLANDER 18-24    Misdemeanor   195\n 3 F     ASIAN / PACIFIC ISLANDER 18-24    Violation       3\n 4 F     ASIAN / PACIFIC ISLANDER 25-44    Felony        334\n 5 F     ASIAN / PACIFIC ISLANDER 25-44    Misdemeanor   587\n 6 F     ASIAN / PACIFIC ISLANDER 25-44    Violation      27\n 7 F     ASIAN / PACIFIC ISLANDER 45-64    Felony        187\n 8 F     ASIAN / PACIFIC ISLANDER 45-64    Misdemeanor   342\n 9 F     ASIAN / PACIFIC ISLANDER 45-64    Violation       2\n10 F     ASIAN / PACIFIC ISLANDER 65+      Felony         33\n# ℹ 150 more rows\n\n\n\n\nCode\nggplot(aggregated_data, aes(axis1 = Sex, axis2 = Race, axis3 = AgeGroup, axis4 = CrimeType, y = Count)) +\n  geom_alluvium(aes(fill = CrimeType), width = 0.2, alpha = 0.8) +\n  geom_stratum(width = 0.2, fill = \"lightgrey\", color = \"black\") +\n  geom_text(stat = \"stratum\", aes(label = after_stat(stratum)), size = 3) +\n  scale_x_discrete(limits = c(\"Sex\", \"Race\", \"AgeGroup\", \"CrimeType\"), expand = c(0.1, 0.1)) +\n  theme_minimal() +\n  labs(\n    title = \"Alluvial Plot of Demographics and Crime Type Relationships\",\n    x = \"Demographic and Crime Categories\",\n    y = \"Number of Arrests\",\n    fill = \"Crime Type\"\n  )\n\n\n\n\n\n\n\n\n\n\n\nCode\nggplot(aggregated_data, aes(axis1 = Sex, axis2 = Race, axis3 = AgeGroup, axis4 = CrimeType, y = Count)) +\n  geom_flow(color = \"black\") +\n  geom_stratum(width = 0.2, fill = \"lightgrey\", color = \"black\") +\n  geom_text(stat = \"stratum\", aes(label = after_stat(stratum)), size = 3) +\n  scale_x_discrete(limits = c(\"Sex\", \"Race\", \"AgeGroup\", \"CrimeType\"), expand = c(0.1, 0.1)) +\n  theme_minimal() +\n  labs(\n    title = \"Alluvial Plot of Demographics and Crime Type Relationships\",\n    x = \"Demographic and Crime Categories\",\n    y = \"Number of Arrests\",\n    fill = \"Crime Type\"\n  )\n\n\n\n\n\n\n\n\n\n\n\nCode\naggregated_data_noother &lt;- na.omit(data) |&gt; \n  filter(!(PERP_RACE %in% c(\"UNKNOWN\", \"AMERICAN INDIAN/ALASKAN NATIVE\"))) |&gt; group_by(PERP_SEX, PERP_RACE, AGE_GROUP, LAW_CAT_CD) |&gt;\n  summarise(Count = n(), .groups = \"drop\") |&gt;\n  rename(\n    Sex = PERP_SEX,\n    Race = PERP_RACE,\n    AgeGroup = AGE_GROUP,\n    CrimeType = LAW_CAT_CD\n  )\nggplot(aggregated_data_noother, aes(axis1 = Sex, axis2 = Race, axis3 = AgeGroup, axis4 = CrimeType, y = Count)) +\n  geom_flow(color = \"black\") +\n  geom_stratum(width = 0.2, fill = \"lightgrey\", color = \"black\") +\n  geom_text(stat = \"stratum\", aes(label = after_stat(stratum)), size = 3) +\n  scale_x_discrete(limits = c(\"Sex\", \"Race\", \"AgeGroup\", \"CrimeType\"), expand = c(0.1, 0.1)) +\n  theme_minimal() +\n  labs(\n    title = \"Alluvial Plot of Demographics and Crime Type Relationships\",\n    x = \"Demographic and Crime Categories\",\n    y = \"Number of Arrests\",\n    fill = \"Crime Type\"\n  )",
    "crumbs": [
      "<span class='chapter-number'>3</span>  <span class='chapter-title'>Results</span>"
    ]
  }
]